var _t=t=>{throw TypeError(t)};var dt=(t,e,s)=>e.has(t)||_t("Cannot "+s);var r=(t,e,s)=>(dt(t,e,"read from private field"),s?s.call(t):e.get(t)),x=(t,e,s)=>e.has(t)?_t("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),p=(t,e,s,n)=>(dt(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),m=(t,e,s)=>(dt(t,e,"access private method"),s);import{c as Ht,x as Wt,y as Nt,z as T,A as ot,D as J,E as ht,F as vt,G as jt,H as Xt,I as nt,J as Jt,K as Zt,M as Dt,N as ut,O as kt,Q as te,r as C,T as Vt,V as lt,R as ct,j as v,p as ee,W as se,B as Ut,i as At}from"./index-CYxau8sd.js";import{A as ie,a as ne,b as re,S as ae,L as oe}from"./ListItem-33CagIqJ.js";import{m as he,P as ce,a as pt}from"./PageHeader-BKKLoowd.js";import{C as ue}from"./check-C262IvaK.js";import{C as le}from"./circle-C-sGxDof.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],de=Ht("Bell",fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],me=Ht("RefreshCw",pe);var S,l,tt,b,q,V,N,A,et,G,Y,K,z,B,$,d,X,gt,yt,xt,wt,Ct,Mt,Ot,Gt,Kt,ve=(Kt=class extends Wt{constructor(e,s){super();x(this,d);x(this,S);x(this,l);x(this,tt);x(this,b);x(this,q);x(this,V);x(this,N);x(this,A);x(this,et);x(this,G);x(this,Y);x(this,K);x(this,z);x(this,B);x(this,$,new Set);this.options=s,p(this,S,e),p(this,A,null),p(this,N,Nt()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,l).addObserver(this),Bt(r(this,l),this.options)?m(this,d,X).call(this):this.updateResult(),m(this,d,wt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bt(r(this,l),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bt(r(this,l),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,m(this,d,Ct).call(this),m(this,d,Mt).call(this),r(this,l).removeObserver(this)}setOptions(e){const s=this.options,n=r(this,l);if(this.options=r(this,S).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof T(this.options.enabled,r(this,l))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");m(this,d,Ot).call(this),r(this,l).setOptions(this.options),s._defaulted&&!ot(this.options,s)&&r(this,S).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,l),observer:this});const i=this.hasListeners();i&&Lt(r(this,l),n,this.options,s)&&m(this,d,X).call(this),this.updateResult(),i&&(r(this,l)!==n||T(this.options.enabled,r(this,l))!==T(s.enabled,r(this,l))||J(this.options.staleTime,r(this,l))!==J(s.staleTime,r(this,l)))&&m(this,d,gt).call(this);const a=m(this,d,yt).call(this);i&&(r(this,l)!==n||T(this.options.enabled,r(this,l))!==T(s.enabled,r(this,l))||a!==r(this,B))&&m(this,d,xt).call(this,a)}getOptimisticResult(e){const s=r(this,S).getQueryCache().build(r(this,S),e),n=this.createResult(s,e);return ye(this,n)&&(p(this,b,n),p(this,V,this.options),p(this,q,r(this,l).state)),n}getCurrentResult(){return r(this,b)}trackResult(e,s){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),s==null||s(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&r(this,N).status==="pending"&&r(this,N).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){r(this,$).add(e)}getCurrentQuery(){return r(this,l)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=r(this,S).defaultQueryOptions(e),n=r(this,S).getQueryCache().build(r(this,S),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return m(this,d,X).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,b)))}createResult(e,s){var Qt;const n=r(this,l),i=this.options,a=r(this,b),o=r(this,q),h=r(this,V),y=e!==n?e.state:r(this,tt),{state:w}=e;let c={...w},O=!1,g;if(s._optimisticResults){const E=this.hasListeners(),st=!E&&Bt(e,s),W=E&&Lt(e,n,s,i);(st||W)&&(c={...c,...Zt(w.data,e.options)}),s._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:Q,errorUpdatedAt:F,status:u}=c;g=c.data;let M=!1;if(s.placeholderData!==void 0&&g===void 0&&u==="pending"){let E;a!=null&&a.isPlaceholderData&&s.placeholderData===(h==null?void 0:h.placeholderData)?(E=a.data,M=!0):E=typeof s.placeholderData=="function"?s.placeholderData((Qt=r(this,Y))==null?void 0:Qt.state.data,r(this,Y)):s.placeholderData,E!==void 0&&(u="success",g=Dt(a==null?void 0:a.data,E,s),O=!0)}if(s.select&&g!==void 0&&!M)if(a&&g===(o==null?void 0:o.data)&&s.select===r(this,et))g=r(this,G);else try{p(this,et,s.select),g=s.select(g),g=Dt(a==null?void 0:a.data,g,s),p(this,G,g),p(this,A,null)}catch(E){p(this,A,E)}r(this,A)&&(Q=r(this,A),g=r(this,G),F=Date.now(),u="error");const R=c.fetchStatus==="fetching",H=u==="pending",ft=u==="error",Ft=H&&R,Tt=g!==void 0,_={status:u,fetchStatus:c.fetchStatus,isPending:H,isSuccess:u==="success",isError:ft,isInitialLoading:Ft,isLoading:Ft,data:g,dataUpdatedAt:c.dataUpdatedAt,error:Q,errorUpdatedAt:F,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>y.dataUpdateCount||c.errorUpdateCount>y.errorUpdateCount,isFetching:R,isRefetching:R&&!H,isLoadingError:ft&&!Tt,isPaused:c.fetchStatus==="paused",isPlaceholderData:O,isRefetchError:ft&&Tt,isStale:St(e,s),refetch:this.refetch,promise:r(this,N),isEnabled:T(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const E=it=>{_.status==="error"?it.reject(_.error):_.data!==void 0&&it.resolve(_.data)},st=()=>{const it=p(this,N,_.promise=Nt());E(it)},W=r(this,N);switch(W.status){case"pending":e.queryHash===n.queryHash&&E(W);break;case"fulfilled":(_.status==="error"||_.data!==W.value)&&st();break;case"rejected":(_.status!=="error"||_.error!==W.reason)&&st();break}}return _}updateResult(){const e=r(this,b),s=this.createResult(r(this,l),this.options);if(p(this,q,r(this,l).state),p(this,V,this.options),r(this,q).data!==void 0&&p(this,Y,r(this,l)),ot(s,e))return;p(this,b,s);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!r(this,$).size)return!0;const o=new Set(a??r(this,$));return this.options.throwOnError&&o.add("error"),Object.keys(r(this,b)).some(h=>{const f=h;return r(this,b)[f]!==e[f]&&o.has(f)})};m(this,d,Gt).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&m(this,d,wt).call(this)}},S=new WeakMap,l=new WeakMap,tt=new WeakMap,b=new WeakMap,q=new WeakMap,V=new WeakMap,N=new WeakMap,A=new WeakMap,et=new WeakMap,G=new WeakMap,Y=new WeakMap,K=new WeakMap,z=new WeakMap,B=new WeakMap,$=new WeakMap,d=new WeakSet,X=function(e){m(this,d,Ot).call(this);let s=r(this,l).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(ht)),s},gt=function(){m(this,d,Ct).call(this);const e=J(this.options.staleTime,r(this,l));if(vt||r(this,b).isStale||!jt(e))return;const n=Xt(r(this,b).dataUpdatedAt,e)+1;p(this,K,nt.setTimeout(()=>{r(this,b).isStale||this.updateResult()},n))},yt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,l)):this.options.refetchInterval)??!1},xt=function(e){m(this,d,Mt).call(this),p(this,B,e),!(vt||T(this.options.enabled,r(this,l))===!1||!jt(r(this,B))||r(this,B)===0)&&p(this,z,nt.setInterval(()=>{(this.options.refetchIntervalInBackground||Jt.isFocused())&&m(this,d,X).call(this)},r(this,B)))},wt=function(){m(this,d,gt).call(this),m(this,d,xt).call(this,m(this,d,yt).call(this))},Ct=function(){r(this,K)&&(nt.clearTimeout(r(this,K)),p(this,K,void 0))},Mt=function(){r(this,z)&&(nt.clearInterval(r(this,z)),p(this,z,void 0))},Ot=function(){const e=r(this,S).getQueryCache().build(r(this,S),this.options);if(e===r(this,l))return;const s=r(this,l);p(this,l,e),p(this,tt,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Gt=function(e){ut.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(r(this,b))}),r(this,S).getQueryCache().notify({query:r(this,l),type:"observerResultsUpdated"})})},Kt);function ge(t,e){return T(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Bt(t,e){return ge(t,e)||t.state.data!==void 0&&bt(t,e,e.refetchOnMount)}function bt(t,e,s){if(T(e.enabled,t)!==!1&&J(e.staleTime,t)!=="static"){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&St(t,e)}return!1}function Lt(t,e,s,n){return(t!==e||T(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&St(t,s)}function St(t,e){return T(e.enabled,t)!==!1&&t.isStaleByTime(J(e.staleTime,t))}function ye(t,e){return!ot(t.getCurrentResult(),e)}var j,L,I,D,k,rt,Rt,zt,xe=(zt=class extends Wt{constructor(e,s){super();x(this,k);x(this,j);x(this,L);x(this,I);x(this,D);p(this,j,e),this.setOptions(s),this.bindMethods(),m(this,k,rt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const s=this.options;this.options=r(this,j).defaultMutationOptions(e),ot(this.options,s)||r(this,j).getMutationCache().notify({type:"observerOptionsUpdated",mutation:r(this,I),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&kt(s.mutationKey)!==kt(this.options.mutationKey)?this.reset():((n=r(this,I))==null?void 0:n.state.status)==="pending"&&r(this,I).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=r(this,I))==null||e.removeObserver(this)}onMutationUpdate(e){m(this,k,rt).call(this),m(this,k,Rt).call(this,e)}getCurrentResult(){return r(this,L)}reset(){var e;(e=r(this,I))==null||e.removeObserver(this),p(this,I,void 0),m(this,k,rt).call(this),m(this,k,Rt).call(this)}mutate(e,s){var n;return p(this,D,s),(n=r(this,I))==null||n.removeObserver(this),p(this,I,r(this,j).getMutationCache().build(r(this,j),this.options)),r(this,I).addObserver(this),r(this,I).execute(e)}},j=new WeakMap,L=new WeakMap,I=new WeakMap,D=new WeakMap,k=new WeakSet,rt=function(){var s;const e=((s=r(this,I))==null?void 0:s.state)??te();p(this,L,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Rt=function(e){ut.batch(()=>{var s,n,i,a,o,h,f,y;if(r(this,D)&&this.hasListeners()){const w=r(this,L).variables,c=r(this,L).context,O={client:r(this,j),meta:this.options.meta,mutationKey:this.options.mutationKey};(e==null?void 0:e.type)==="success"?((n=(s=r(this,D)).onSuccess)==null||n.call(s,e.data,w,c,O),(a=(i=r(this,D)).onSettled)==null||a.call(i,e.data,null,w,c,O)):(e==null?void 0:e.type)==="error"&&((h=(o=r(this,D)).onError)==null||h.call(o,e.error,w,c,O),(y=(f=r(this,D)).onSettled)==null||y.call(f,void 0,e.error,w,c,O))}this.listeners.forEach(w=>{w(r(this,L))})})},zt),Yt=C.createContext(!1),we=()=>C.useContext(Yt);Yt.Provider;function Ce(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Me=C.createContext(Ce()),Oe=()=>C.useContext(Me),be=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Re=t=>{C.useEffect(()=>{t.clearReset()},[t])},Se=({result:t,errorResetBoundary:e,throwOnError:s,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||Vt(s,[t.error,n])),Ie=t=>{if(t.suspense){const s=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>s(n(...i)):s(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Pe=(t,e)=>t.isLoading&&t.isFetching&&!e,Ee=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,qt=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Fe(t,e,s){var c,O,g,Q,F;const n=we(),i=Oe(),a=lt(),o=a.defaultQueryOptions(t);(O=(c=a.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||O.call(c,o),o._optimisticResults=n?"isRestoring":"optimistic",Ie(o),be(o,i),Re(i);const h=!a.getQueryCache().get(o.queryHash),[f]=C.useState(()=>new e(a,o)),y=f.getOptimisticResult(o),w=!n&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(u=>{const M=w?f.subscribe(ut.batchCalls(u)):ht;return f.updateResult(),M},[f,w]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),C.useEffect(()=>{f.setOptions(o)},[o,f]),Ee(o,y))throw qt(o,f,i);if(Se({result:y,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw y.error;if((Q=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||Q.call(g,o,y),o.experimental_prefetchInRender&&!vt&&Pe(y,n)){const u=h?qt(o,f,i):(F=a.getQueryCache().get(o.queryHash))==null?void 0:F.promise;u==null||u.catch(ht).finally(()=>{f.updateResult()})}return o.notifyOnChangeProps?y:f.trackResult(y)}function Te(t,e){return Fe(t,ve)}function Qe(t,e){const s=lt(),[n]=C.useState(()=>new xe(s,t));C.useEffect(()=>{n.setOptions(t)},[n,t]);const i=C.useSyncExternalStore(C.useCallback(o=>n.subscribe(ut.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=C.useCallback((o,h)=>{n.mutate(o,h).catch(ht)},[n]);if(i.error&&Vt(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var at={linear:function(t,e,s,n){var i=s-e;return i*t/n+e},easeInQuad:function(t,e,s,n){var i=s-e;return i*(t/=n)*t+e},easeOutQuad:function(t,e,s,n){var i=s-e;return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,s,n){var i=s-e;return i*(t/=n)*t*t+e},easeOutCubic:function(t,e,s,n){var i=s-e;return i*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,s,n){var i=s-e;return i*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,s,n){var i=s-e;return-i*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,s,n){var i=s-e;return i*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,s,n){var i=s-e;return i*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,s,n){var i=s-e;return-i*Math.cos(t/n*(Math.PI/2))+i+e},easeOutSine:function(t,e,s,n){var i=s-e;return i*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,s,n){var i=s-e;return-i/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,s,n){var i=s-e;return t==0?e:i*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,s,n){var i=s-e;return t==n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e},easeInOutExpo:function(t,e,s,n){var i=s-e;return t===0?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,s,n){var i=s-e;return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,s,n){var i=s-e;return i*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,s,n){var i=s-e,a,o,h;return h=1.70158,o=0,a=i,t===0?e:(t/=n)===1?e+i:(o||(o=n*.3),a<Math.abs(i)?(a=i,h=o/4):h=o/(2*Math.PI)*Math.asin(i/a),-(a*Math.pow(2,10*(t-=1))*Math.sin((t*n-h)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,s,n){var i=s-e,a,o,h;return h=1.70158,o=0,a=i,t===0?e:(t/=n)===1?e+i:(o||(o=n*.3),a<Math.abs(i)?(a=i,h=o/4):h=o/(2*Math.PI)*Math.asin(i/a),a*Math.pow(2,-10*t)*Math.sin((t*n-h)*(2*Math.PI)/o)+i+e)},easeInOutElastic:function(t,e,s,n){var i=s-e,a,o,h;return h=1.70158,o=0,a=i,t===0?e:(t/=n/2)===2?e+i:(o||(o=n*(.3*1.5)),a<Math.abs(i)?(a=i,h=o/4):h=o/(2*Math.PI)*Math.asin(i/a),t<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*n-h)*(2*Math.PI)/o))+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*n-h)*(2*Math.PI)/o)*.5+i+e)},easeInBack:function(t,e,s,n,i){var a=s-e;return i===void 0&&(i=1.70158),a*(t/=n)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,s,n,i){var a=s-e;return i===void 0&&(i=1.70158),a*((t=t/n-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,s,n,i){var a=s-e;return i===void 0&&(i=1.70158),(t/=n/2)<1?a/2*(t*t*(((i*=1.525)+1)*t-i))+e:a/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},easeInBounce:function(t,e,s,n){var i=s-e,a;return a=at.easeOutBounce(n-t,0,i,n),i-a+e},easeOutBounce:function(t,e,s,n){var i=s-e;return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,s,n){var i=s-e,a;return t<n/2?(a=at.easeInBounce(t*2,0,i,n),a*.5+e):(a=at.easeOutBounce(t*2-n,0,i,n),a*.5+i*.5+e)}},_e=at;function Ne(t){return t*Math.PI/180}function P(t,e){return t+Math.random()*(e-t)}function je(t,e){return Math.floor(t+Math.random()*(e-t+1))}var Z;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(Z||(Z={}));var U;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(U||(U={}));const De=1e3/60;class ke{constructor(e,s,n,i){this.getOptions=s;const{colors:a,initialVelocityX:o,initialVelocityY:h}=this.getOptions();this.context=e,this.x=n,this.y=i,this.w=P(5,20),this.h=P(5,20),this.radius=P(5,10),this.vx=typeof o=="number"?P(-o,o):P(o.min,o.max),this.vy=typeof h=="number"?P(-h,0):P(h.min,h.max),this.shape=je(0,2),this.angle=Ne(P(0,360)),this.angularSpin=P(-.2,.2),this.color=a[Math.floor(Math.random()*a.length)],this.rotateY=P(0,1),this.rotationDirection=P(0,1)?U.Positive:U.Negative}update(e){const{gravity:s,wind:n,friction:i,opacity:a,drawShape:o}=this.getOptions(),h=e/De;this.x+=this.vx*h,this.y+=this.vy*h,this.vy+=s*h,this.vx+=n*h,this.vx*=i**h,this.vy*=i**h,this.rotateY>=1&&this.rotationDirection===U.Positive?this.rotationDirection=U.Negative:this.rotateY<=-1&&this.rotationDirection===U.Negative&&(this.rotationDirection=U.Positive);const f=.1*this.rotationDirection*h;if(this.rotateY+=f,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=a,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case Z.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Z.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Z.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class Ue{constructor(e,s){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=i=>{this.particles.splice(i,1)},this.getParticle=()=>{const i=P(this.x,this.w+this.x),a=P(this.y,this.h+this.y);return new ke(this.context,this.getOptions,i,a)},this.animate=i=>{const{canvas:a,context:o,particlesGenerated:h,lastNumberOfPieces:f}=this,{run:y,recycle:w,numberOfPieces:c,debug:O,tweenFunction:g,tweenDuration:Q}=this.getOptions();if(!y)return!1;const F=this.particles.length,u=w?F:h;if(u<c){f!==c&&(this.tweenProgress=0,this.tweenFrom=u,this.lastNumberOfPieces=c),this.tweenProgress=Math.min(Q,Math.max(0,this.tweenProgress+i));const M=g(this.tweenProgress,this.tweenFrom,c,Q),R=Math.round(M-u);for(let H=0;H<R;H++)this.particles.push(this.getParticle());this.particlesGenerated+=R}O&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${F}`,a.width-10,a.height-20));for(let M=this.particles.length-1;M>=0;M--){const R=this.particles[M];R.update(i),(R.y>a.height||R.y<-100||R.x>a.width+100||R.x<-100)&&(w&&u<=c?this.particles[M]=this.getParticle():this.removeParticleAt(M))}return F>0||u<c},this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.getOptions=s}}const It={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:_e.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class Ae{constructor(e,s){this.lastFrameTime=0,this.setOptionsWithDefaults=i=>{const a={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...a,...It,...i},Object.assign(this,i.confettiSource)},this.update=(i=0)=>{const{options:{run:a,onConfettiComplete:o,frameRate:h},canvas:f,context:y}=this,w=Math.min(i-this.lastFrameTime,50);if(h&&w<1e3/h){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=i-(h?w%h:0),a&&(y.fillStyle="white",y.clearRect(0,0,f.width,f.height)),this.generator.animate(w)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.generator=new Ue(this.canvas,()=>this.options),this.options=s,this.update()}get options(){return this._options}set options(e){var i,a;const s=(i=this._options)==null?void 0:i.run,n=(a=this._options)==null?void 0:a.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&n===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&s===!1&&this.update()}}const Be=ct.createRef();class Pt extends ct.Component{constructor(e){super(e),this.canvas=ct.createRef(),this.canvas=e.canvasRef||Be}componentDidMount(){if(this.canvas.current){const e=mt(this.props)[0];this.confetti=new Ae(this.canvas.current,e)}}componentDidUpdate(){const e=mt(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,s]=mt(this.props),n={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...s.style};return v.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...s,style:n})}}Pt.defaultProps={...It};Pt.displayName="ReactConfetti";function mt(t){const e={},s={},n={},i=[...Object.keys(It),"confettiSource","drawShape","onConfettiComplete","frameRate"],a=["canvasRef"];for(const o in t){const h=t[o];i.includes(o)?e[o]=h:a.includes(o)?a[o]=h:n[o]=h}return[e,n,s]}const Le=ct.forwardRef((t,e)=>v.jsx(Pt,{canvasRef:e,...t})),$t={getMissions:async()=>new Promise(t=>{setTimeout(()=>{t([...he])},500)}),completeMission:async t=>new Promise(e=>{setTimeout(()=>{e()},300)})},Et={all:["missions"]},qe=()=>Te({queryKey:Et.all,queryFn:$t.getMissions}),Ke=()=>{const t=lt();return Qe({mutationFn:e=>$t.completeMission(e),onSuccess:(e,s)=>{t.setQueryData(Et.all,n=>n?n.map(i=>i.id===s?{...i,isCompleted:!0}:i):[])}})};function Xe(){const{data:t=[],isLoading:e,isError:s}=qe(),n=Ke(),i=lt(),[a,o]=C.useState(null),[h,f]=C.useState(!1),[y,w]=C.useState({width:0,height:0}),{toast:c}=ee();C.useEffect(()=>{const u=()=>{w({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",u),u(),()=>window.removeEventListener("resize",u)},[]);const O=t.filter(u=>!u.isCompleted).length,g=u=>{const M=t.find(R=>R.id===u);!M||M.isCompleted||n.mutate(u,{onSuccess:()=>{o(u),f(!0),c({title:"참 잘했어요!",description:`'${M.title}' 미션을 완료했어요.`}),setTimeout(()=>{f(!1),o(null)},4e3)}})},Q=()=>{c({title:"알림",description:"지금 혈압 잴 시간입니다."})},F=()=>{i.invalidateQueries({queryKey:Et.all}),c({title:"새로고침 완료",description:"미션 목록이 업데이트되었습니다."})};return e?v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:v.jsx(se,{})}):s?v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:v.jsx("p",{className:"text-red-500",children:"데이터를 불러오는 중 오류가 발생했습니다."})}):v.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 pb-20",children:[h&&v.jsx(Le,{width:y.width,height:y.height,recycle:!1,numberOfPieces:200}),v.jsx(ce,{title:`안녕하세요, ${pt.name}님!`,leftContent:v.jsxs(ie,{children:[v.jsx(ne,{src:`https://i.pravatar.cc/150?u=${pt.uid}`}),v.jsx(re,{children:pt.name.charAt(0)})]}),rightContent:v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(Ut,{variant:"ghost",size:"icon",onClick:F,children:v.jsx(me,{className:"w-6 h-6"})}),v.jsx(Ut,{variant:"ghost",size:"icon",onClick:Q,children:v.jsx(de,{className:"w-6 h-6"})})]})}),v.jsx("main",{className:"flex-1 p-4 space-y-6 max-w-3xl mx-auto w-full",children:v.jsx(ae,{title:`오늘 할 일 ${O>0?`${O}개 남았어요`:"모두 완료!"}`,children:v.jsx("div",{className:"space-y-3",children:t.map(u=>v.jsx(oe,{onClick:()=>g(u.id),className:At("shadow-sm",u.isCompleted?"bg-secondary/50 text-muted-foreground border-transparent":"bg-card border-border hover:border-primary/50",a===u.id&&"bg-primary/10 border-primary ring-1 ring-primary/20"),middle:v.jsx("span",{className:At("font-medium transition-all",u.isCompleted&&"line-through text-muted-foreground decoration-slate-400"),children:u.title}),end:u.isCompleted?v.jsx(ue,{className:"w-6 h-6 text-primary"}):v.jsx(le,{className:"w-6 h-6 text-muted-foreground"})},u.id))})})})]})}export{Xe as default};
