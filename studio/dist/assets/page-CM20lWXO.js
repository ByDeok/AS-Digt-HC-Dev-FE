import{a as P,r as n,h as Pe,j as r,b as Ee,P as y,d as I,f as G,u as H,$ as Fe,e as Se,a1 as _e,i as D,C as Ae,m as ke,n as Te,s as Ge,o as De,k as Oe,B as U}from"./index-CYxau8sd.js";import{L as j,I as B}from"./label-Bp9CGYzI.js";import{u as Y}from"./index-DZ7z7dl-.js";import{u as Le,C as Me}from"./checkbox-Wy7-IGrN.js";import{C as $e}from"./circle-C-sGxDof.js";import"./check-C262IvaK.js";var A="rovingFocusGroup.onEntryFocus",Ve={bubbles:!1,cancelable:!0},E="RovingFocusGroup",[k,X,Ke]=Pe(E),[Ue,W]=P(E,[Ke]),[Be,qe]=Ue(E),J=n.forwardRef((e,t)=>r.jsx(k.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(k.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(ze,{...e,ref:t})})}));J.displayName=E;var ze=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:a,loop:s=!1,dir:u,currentTabStopId:p,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:i,onEntryFocus:l,preventScrollOnEntryFocus:c=!1,...m}=e,v=n.useRef(null),x=G(t,v),d=Y(u),[h=null,b]=H({prop:p,defaultProp:f,onChange:i}),[R,N]=n.useState(!1),F=Fe(l),Ne=X(o),S=n.useRef(!1),[Ie,V]=n.useState(0);return n.useEffect(()=>{const g=v.current;if(g)return g.addEventListener(A,F),()=>g.removeEventListener(A,F)},[F]),r.jsx(Be,{scope:o,orientation:a,dir:d,loop:s,currentTabStopId:h,onItemFocus:n.useCallback(g=>b(g),[b]),onItemShiftTab:n.useCallback(()=>N(!0),[]),onFocusableItemAdd:n.useCallback(()=>V(g=>g+1),[]),onFocusableItemRemove:n.useCallback(()=>V(g=>g-1),[]),children:r.jsx(y.div,{tabIndex:R||Ie===0?-1:0,"data-orientation":a,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:I(e.onMouseDown,()=>{S.current=!0}),onFocus:I(e.onFocus,g=>{const Ce=!S.current;if(g.target===g.currentTarget&&Ce&&!R){const K=new CustomEvent(A,Ve);if(g.currentTarget.dispatchEvent(K),!K.defaultPrevented){const _=Ne().filter(C=>C.focusable),je=_.find(C=>C.active),ye=_.find(C=>C.id===h),we=[je,ye,..._].filter(Boolean).map(C=>C.ref.current);ee(we,c)}}S.current=!1}),onBlur:I(e.onBlur,()=>N(!1))})})}),Q="RovingFocusGroupItem",Z=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:a=!0,active:s=!1,tabStopId:u,...p}=e,f=Ee(),i=u||f,l=qe(Q,o),c=l.currentTabStopId===i,m=X(o),{onFocusableItemAdd:v,onFocusableItemRemove:x}=l;return n.useEffect(()=>{if(a)return v(),()=>x()},[a,v,x]),r.jsx(k.ItemSlot,{scope:o,id:i,focusable:a,active:s,children:r.jsx(y.span,{tabIndex:c?0:-1,"data-orientation":l.orientation,...p,ref:t,onMouseDown:I(e.onMouseDown,d=>{a?l.onItemFocus(i):d.preventDefault()}),onFocus:I(e.onFocus,()=>l.onItemFocus(i)),onKeyDown:I(e.onKeyDown,d=>{if(d.key==="Tab"&&d.shiftKey){l.onItemShiftTab();return}if(d.target!==d.currentTarget)return;const h=Xe(d,l.orientation,l.dir);if(h!==void 0){if(d.metaKey||d.ctrlKey||d.altKey||d.shiftKey)return;d.preventDefault();let R=m().filter(N=>N.focusable).map(N=>N.ref.current);if(h==="last")R.reverse();else if(h==="prev"||h==="next"){h==="prev"&&R.reverse();const N=R.indexOf(d.currentTarget);R=l.loop?We(R,N+1):R.slice(N+1)}setTimeout(()=>ee(R))}})})})});Z.displayName=Q;var He={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ye(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Xe(e,t,o){const a=Ye(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return He[a]}function ee(e,t=!1){const o=document.activeElement;for(const a of e)if(a===o||(a.focus({preventScroll:t}),document.activeElement!==o))return}function We(e,t){return e.map((o,a)=>e[(t+a)%e.length])}var Je=J,Qe=Z,O="Radio",[Ze,re]=P(O),[er,rr]=Ze(O),te=n.forwardRef((e,t)=>{const{__scopeRadio:o,name:a,checked:s=!1,required:u,disabled:p,value:f="on",onCheck:i,form:l,...c}=e,[m,v]=n.useState(null),x=G(t,b=>v(b)),d=n.useRef(!1),h=m?l||!!m.closest("form"):!0;return r.jsxs(er,{scope:o,checked:s,disabled:p,children:[r.jsx(y.button,{type:"button",role:"radio","aria-checked":s,"data-state":se(s),"data-disabled":p?"":void 0,disabled:p,value:f,...c,ref:x,onClick:I(e.onClick,b=>{s||i==null||i(),h&&(d.current=b.isPropagationStopped(),d.current||b.stopPropagation())})}),h&&r.jsx(tr,{control:m,bubbles:!d.current,name:a,value:f,checked:s,required:u,disabled:p,form:l,style:{transform:"translateX(-100%)"}})]})});te.displayName=O;var oe="RadioIndicator",ae=n.forwardRef((e,t)=>{const{__scopeRadio:o,forceMount:a,...s}=e,u=rr(oe,o);return r.jsx(Se,{present:a||u.checked,children:r.jsx(y.span,{"data-state":se(u.checked),"data-disabled":u.disabled?"":void 0,...s,ref:t})})});ae.displayName=oe;var tr=e=>{const{control:t,checked:o,bubbles:a=!0,...s}=e,u=n.useRef(null),p=Le(o),f=_e(t);return n.useEffect(()=>{const i=u.current,l=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(l,"checked").set;if(p!==o&&m){const v=new Event("click",{bubbles:a});m.call(i,o),i.dispatchEvent(v)}},[p,o,a]),r.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:o,...s,tabIndex:-1,ref:u,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function se(e){return e?"checked":"unchecked"}var or=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],L="RadioGroup",[ar]=P(L,[W,re]),ne=W(),ie=re(),[sr,nr]=ar(L),ce=n.forwardRef((e,t)=>{const{__scopeRadioGroup:o,name:a,defaultValue:s,value:u,required:p=!1,disabled:f=!1,orientation:i,dir:l,loop:c=!0,onValueChange:m,...v}=e,x=ne(o),d=Y(l),[h,b]=H({prop:u,defaultProp:s,onChange:m});return r.jsx(sr,{scope:o,name:a,required:p,disabled:f,value:h,onValueChange:b,children:r.jsx(Je,{asChild:!0,...x,orientation:i,dir:d,loop:c,children:r.jsx(y.div,{role:"radiogroup","aria-required":p,"aria-orientation":i,"data-disabled":f?"":void 0,dir:d,...v,ref:t})})})});ce.displayName=L;var le="RadioGroupItem",de=n.forwardRef((e,t)=>{const{__scopeRadioGroup:o,disabled:a,...s}=e,u=nr(le,o),p=u.disabled||a,f=ne(o),i=ie(o),l=n.useRef(null),c=G(t,l),m=u.value===s.value,v=n.useRef(!1);return n.useEffect(()=>{const x=h=>{or.includes(h.key)&&(v.current=!0)},d=()=>v.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",d),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",d)}},[]),r.jsx(Qe,{asChild:!0,...f,focusable:!p,active:m,children:r.jsx(te,{disabled:p,required:u.required,checked:m,...i,...s,name:u.name,ref:c,onCheck:()=>u.onValueChange(s.value),onKeyDown:I(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:I(s.onFocus,()=>{var x;v.current&&((x=l.current)==null||x.click())})})})});de.displayName=le;var ir="RadioGroupIndicator",ue=n.forwardRef((e,t)=>{const{__scopeRadioGroup:o,...a}=e,s=ie(o);return r.jsx(ae,{...s,...a,ref:t})});ue.displayName=ir;var fe=ce,pe=de,cr=ue;const me=n.forwardRef(({className:e,...t},o)=>r.jsx(fe,{className:D("grid gap-2",e),...t,ref:o}));me.displayName=fe.displayName;const T=n.forwardRef(({className:e,...t},o)=>r.jsx(pe,{ref:o,className:D("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(cr,{className:"flex items-center justify-center",children:r.jsx($e,{className:"h-2.5 w-2.5 fill-current text-current"})})}));T.displayName=pe.displayName;var M="Progress",$=100,[lr]=P(M),[dr,ur]=lr(M),ve=n.forwardRef((e,t)=>{const{__scopeProgress:o,value:a=null,max:s,getValueLabel:u=fr,...p}=e;(s||s===0)&&!q(s)&&console.error(pr(`${s}`,"Progress"));const f=q(s)?s:$;a!==null&&!z(a,f)&&console.error(mr(`${a}`,"Progress"));const i=z(a,f)?a:null,l=w(i)?u(i,f):void 0;return r.jsx(dr,{scope:o,value:i,max:f,children:r.jsx(y.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":w(i)?i:void 0,"aria-valuetext":l,role:"progressbar","data-state":ge(i,f),"data-value":i??void 0,"data-max":f,...p,ref:t})})});ve.displayName=M;var xe="ProgressIndicator",he=n.forwardRef((e,t)=>{const{__scopeProgress:o,...a}=e,s=ur(xe,o);return r.jsx(y.div,{"data-state":ge(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});he.displayName=xe;function fr(e,t){return`${Math.round(e/t*100)}%`}function ge(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function w(e){return typeof e=="number"}function q(e){return w(e)&&!isNaN(e)&&e>0}function z(e,t){return w(e)&&!isNaN(e)&&e<=t&&e>=0}function pr(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$}\`.`}function mr(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var be=ve,vr=he;const Re=n.forwardRef(({className:e,value:t,...o},a)=>r.jsx(be,{ref:a,className:D("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...o,children:r.jsx(vr,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Re.displayName=be.displayName;function xr({title:e,description:t,progress:o,children:a,footer:s}){return r.jsxs(Ae,{className:"w-full max-w-md mx-auto",children:[r.jsxs(ke,{children:[r.jsx(Re,{value:o,className:"mb-4 h-2"}),r.jsx(Te,{children:e}),t&&r.jsx(Ge,{children:t})]}),r.jsxs(De,{children:[r.jsx("div",{className:"space-y-6",children:a}),s&&r.jsx("div",{className:"mt-8 flex gap-4",children:s})]})]})}const hr=["고혈압","당뇨","고지혈증","관절염"];function yr(){const[e,t]=n.useState("name"),[o,a]=n.useState({name:"",birthdate:"",gender:"",conditions:[]}),s=Oe(),u=()=>{e==="name"?t("birthdate"):e==="birthdate"?t("conditions"):e==="conditions"&&s("/onboarding/device")},p=()=>{e==="birthdate"?t("name"):e==="conditions"&&t("birthdate")},f=c=>{a(m=>({...m,conditions:m.conditions.includes(c)?m.conditions.filter(v=>v!==c):[...m.conditions,c]}))},i=e==="name"?33:e==="birthdate"?66:100,l=()=>{switch(e){case"name":return"이름을 알려주세요";case"birthdate":return"생년월일을 알려주세요";case"conditions":return"건강 정보를 알려주세요"}};return r.jsx(xr,{title:l(),description:"맞춤 관리를 위해 필요해요.",progress:i,footer:r.jsxs(r.Fragment,{children:[e!=="name"&&r.jsx(U,{size:"xl",variant:"outline",onClick:p,className:"w-1/3",children:"이전"}),r.jsx(U,{size:"xl",onClick:u,className:"w-full",children:e==="conditions"?"거의 다 왔어요!":"다음"})]}),children:r.jsxs("div",{className:"space-y-6",children:[e==="name"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(j,{htmlFor:"name",className:"text-base",children:"이름"}),r.jsx(B,{id:"name",placeholder:"김철수",value:o.name,onChange:c=>a({...o,name:c.target.value}),autoComplete:"name"})]}),e==="birthdate"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(j,{htmlFor:"birthdate",className:"text-base",children:"생년월일 8자리"}),r.jsx(B,{id:"birthdate",placeholder:"19501024",value:o.birthdate,onChange:c=>a({...o,birthdate:c.target.value}),type:"tel",maxLength:8})]}),e==="conditions"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(j,{className:"text-base",children:"성별"}),r.jsxs(me,{defaultValue:o.gender,onValueChange:c=>a({...o,gender:c}),className:"flex gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(T,{value:"male",id:"male"}),r.jsx(j,{htmlFor:"male",className:"text-base",children:"남성"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(T,{value:"female",id:"female"}),r.jsx(j,{htmlFor:"female",className:"text-base",children:"여성"})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(j,{className:"text-base",children:"가지고 있는 질환을 모두 선택해주세요."}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:hr.map(c=>r.jsxs("div",{className:"flex items-center space-x-3 rounded-md border p-4",children:[r.jsx(Me,{id:c,checked:o.conditions.includes(c),onCheckedChange:()=>f(c)}),r.jsx(j,{htmlFor:c,className:"text-base font-normal",children:c})]},c))})]})]})]})})}export{yr as default};
