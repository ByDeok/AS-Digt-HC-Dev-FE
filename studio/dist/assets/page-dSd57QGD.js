import{c as D,R as I,j as c,r as y,u as B,B as k,a as A}from"./index-DwRaqOIm.js";import{A as T,a as _,b as q,S as Q,L as z}from"./ListItem-BJuPp8Kg.js";import{m as E,P as L,a as S}from"./PageHeader-BSwU2Gyk.js";import{C as Y,a as G}from"./circle-BW3Dajc2.js";import"./card-DSf5NwjQ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$=D("Bell",W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],H=D("RefreshCw",V);var P={linear:function(t,e,s,n){var i=s-e;return i*t/n+e},easeInQuad:function(t,e,s,n){var i=s-e;return i*(t/=n)*t+e},easeOutQuad:function(t,e,s,n){var i=s-e;return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,s,n){var i=s-e;return i*(t/=n)*t*t+e},easeOutCubic:function(t,e,s,n){var i=s-e;return i*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,s,n){var i=s-e;return i*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,s,n){var i=s-e;return-i*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,s,n){var i=s-e;return i*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,s,n){var i=s-e;return i*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,s,n){var i=s-e;return-i*Math.cos(t/n*(Math.PI/2))+i+e},easeOutSine:function(t,e,s,n){var i=s-e;return i*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,s,n){var i=s-e;return-i/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,s,n){var i=s-e;return t==0?e:i*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,s,n){var i=s-e;return t==n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e},easeInOutExpo:function(t,e,s,n){var i=s-e;return t===0?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,s,n){var i=s-e;return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,s,n){var i=s-e;return i*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,s,n){var i=s-e;return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,s,n){var i=s-e,r,a,o;return o=1.70158,a=0,r=i,t===0?e:(t/=n)===1?e+i:(a||(a=n*.3),r<Math.abs(i)?(r=i,o=a/4):o=a/(2*Math.PI)*Math.asin(i/r),-(r*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/a))+e)},easeOutElastic:function(t,e,s,n){var i=s-e,r,a,o;return o=1.70158,a=0,r=i,t===0?e:(t/=n)===1?e+i:(a||(a=n*.3),r<Math.abs(i)?(r=i,o=a/4):o=a/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*t)*Math.sin((t*n-o)*(2*Math.PI)/a)+i+e)},easeInOutElastic:function(t,e,s,n){var i=s-e,r,a,o;return o=1.70158,a=0,r=i,t===0?e:(t/=n/2)===2?e+i:(a||(a=n*(.3*1.5)),r<Math.abs(i)?(r=i,o=a/4):o=a/(2*Math.PI)*Math.asin(i/r),t<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/a))+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/a)*.5+i+e)},easeInBack:function(t,e,s,n,i){var r=s-e;return i===void 0&&(i=1.70158),r*(t/=n)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,s,n,i){var r=s-e;return i===void 0&&(i=1.70158),r*((t=t/n-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,s,n,i){var r=s-e;return i===void 0&&(i=1.70158),(t/=n/2)<1?r/2*(t*t*(((i*=1.525)+1)*t-i))+e:r/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},easeInBounce:function(t,e,s,n){var i=s-e,r;return r=P.easeOutBounce(n-t,0,i,n),i-r+e},easeOutBounce:function(t,e,s,n){var i=s-e;return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,s,n){var i=s-e,r;return t<n/2?(r=P.easeInBounce(t*2,0,i,n),r*.5+e):(r=P.easeOutBounce(t*2-n,0,i,n),r*.5+i*.5+e)}},U=P;function X(t){return t*Math.PI/180}function u(t,e){return t+Math.random()*(e-t)}function K(t,e){return Math.floor(t+Math.random()*(e-t+1))}var C;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(C||(C={}));var m;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(m||(m={}));const J=1e3/60;class Z{constructor(e,s,n,i){this.getOptions=s;const{colors:r,initialVelocityX:a,initialVelocityY:o}=this.getOptions();this.context=e,this.x=n,this.y=i,this.w=u(5,20),this.h=u(5,20),this.radius=u(5,10),this.vx=typeof a=="number"?u(-a,a):u(a.min,a.max),this.vy=typeof o=="number"?u(-o,0):u(o.min,o.max),this.shape=K(0,2),this.angle=X(u(0,360)),this.angularSpin=u(-.2,.2),this.color=r[Math.floor(Math.random()*r.length)],this.rotateY=u(0,1),this.rotationDirection=u(0,1)?m.Positive:m.Negative}update(e){const{gravity:s,wind:n,friction:i,opacity:r,drawShape:a}=this.getOptions(),o=e/J;this.x+=this.vx*o,this.y+=this.vy*o,this.vy+=s*o,this.vx+=n*o,this.vx*=i**o,this.vy*=i**o,this.rotateY>=1&&this.rotationDirection===m.Positive?this.rotationDirection=m.Negative:this.rotateY<=-1&&this.rotationDirection===m.Negative&&(this.rotationDirection=m.Positive);const l=.1*this.rotationDirection*o;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=r,this.context.lineCap="round",this.context.lineWidth=2,a&&typeof a=="function")a.call(this,this.context);else switch(this.shape){case C.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case C.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case C.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class b{constructor(e,s){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=i=>{this.particles.splice(i,1)},this.getParticle=()=>{const i=u(this.x,this.w+this.x),r=u(this.y,this.h+this.y);return new Z(this.context,this.getOptions,i,r)},this.animate=i=>{const{canvas:r,context:a,particlesGenerated:o,lastNumberOfPieces:l}=this,{run:g,recycle:d,numberOfPieces:p,debug:O,tweenFunction:h,tweenDuration:M}=this.getOptions();if(!g)return!1;const x=this.particles.length,f=d?x:o;if(f<p){l!==p&&(this.tweenProgress=0,this.tweenFrom=f,this.lastNumberOfPieces=p),this.tweenProgress=Math.min(M,Math.max(0,this.tweenProgress+i));const w=h(this.tweenProgress,this.tweenFrom,p,M),v=Math.round(w-f);for(let R=0;R<v;R++)this.particles.push(this.getParticle());this.particlesGenerated+=v}O&&(a.font="12px sans-serif",a.fillStyle="#333",a.textAlign="right",a.fillText(`Particles: ${x}`,r.width-10,r.height-20));for(let w=this.particles.length-1;w>=0;w--){const v=this.particles[w];v.update(i),(v.y>r.height||v.y<-100||v.x>r.width+100||v.x<-100)&&(d&&f<=p?this.particles[w]=this.getParticle():this.removeParticleAt(w))}return x>0||f<p},this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.getOptions=s}}const F={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:U.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class tt{constructor(e,s){this.lastFrameTime=0,this.setOptionsWithDefaults=i=>{const r={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...r,...F,...i},Object.assign(this,i.confettiSource)},this.update=(i=0)=>{const{options:{run:r,onConfettiComplete:a,frameRate:o},canvas:l,context:g}=this,d=Math.min(i-this.lastFrameTime,50);if(o&&d<1e3/o){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=i-(o?d%o:0),r&&(g.fillStyle="white",g.clearRect(0,0,l.width,l.height)),this.generator.animate(d)?this.rafId=requestAnimationFrame(this.update):(a&&typeof a=="function"&&this.generator.particlesGenerated>0&&a.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.generator=new b(this.canvas,()=>this.options),this.options=s,this.update()}get options(){return this._options}set options(e){var i,r;const s=(i=this._options)==null?void 0:i.run,n=(r=this._options)==null?void 0:r.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&n===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&s===!1&&this.update()}}const et=I.createRef();class N extends I.Component{constructor(e){super(e),this.canvas=I.createRef(),this.canvas=e.canvasRef||et}componentDidMount(){if(this.canvas.current){const e=j(this.props)[0];this.confetti=new tt(this.canvas.current,e)}}componentDidUpdate(){const e=j(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,s]=j(this.props),n={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...s.style};return c.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...s,style:n})}}N.defaultProps={...F};N.displayName="ReactConfetti";function j(t){const e={},s={},n={},i=[...Object.keys(F),"confettiSource","drawShape","onConfettiComplete","frameRate"],r=["canvasRef"];for(const a in t){const o=t[a];i.includes(a)?e[a]=o:r.includes(a)?r[a]=o:n[a]=o}return[e,n,s]}const it=I.forwardRef((t,e)=>c.jsx(N,{canvasRef:e,...t}));function ct(){const[t,e]=y.useState(E),[s,n]=y.useState(null),[i,r]=y.useState(!1),[a,o]=y.useState({width:0,height:0}),{toast:l}=B();y.useEffect(()=>{const h=()=>{o({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",h),h(),()=>window.removeEventListener("resize",h)},[]);const g=t.filter(h=>!h.isCompleted).length,d=h=>{const M=t.find(x=>x.id===h);!M||M.isCompleted||(e(x=>x.map(f=>f.id===h?{...f,isCompleted:!0}:f)),n(h),r(!0),l({title:"참 잘했어요!",description:`'${M.title}' 미션을 완료했어요.`}),setTimeout(()=>{r(!1),n(null)},4e3))},p=()=>{l({title:"알림",description:"지금 혈압 잴 시간입니다."})},O=()=>{e(E),l({title:"새로고침 완료",description:"미션 목록이 업데이트되었습니다."})};return c.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 pb-20",children:[i&&c.jsx(it,{width:a.width,height:a.height,recycle:!1,numberOfPieces:200}),c.jsx(L,{title:`안녕하세요, ${S.name}님!`,leftContent:c.jsxs(T,{children:[c.jsx(_,{src:`https://i.pravatar.cc/150?u=${S.uid}`}),c.jsx(q,{children:S.name.charAt(0)})]}),rightContent:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(k,{variant:"ghost",size:"icon",onClick:O,children:c.jsx(H,{className:"w-6 h-6"})}),c.jsx(k,{variant:"ghost",size:"icon",onClick:p,children:c.jsx($,{className:"w-6 h-6"})})]})}),c.jsx("main",{className:"flex-1 p-4 space-y-6 max-w-3xl mx-auto w-full",children:c.jsx(Q,{title:`오늘 할 일 ${g>0?`${g}개 남았어요`:"모두 완료!"}`,children:c.jsx("div",{className:"space-y-3",children:t.map(h=>c.jsx(z,{onClick:()=>d(h.id),className:A("shadow-sm",h.isCompleted?"bg-secondary/50 text-muted-foreground border-transparent":"bg-card border-border hover:border-primary/50",s===h.id&&"bg-primary/10 border-primary ring-1 ring-primary/20"),middle:c.jsx("span",{className:A("font-medium transition-all",h.isCompleted&&"line-through text-muted-foreground decoration-slate-400"),children:h.title}),end:h.isCompleted?c.jsx(Y,{className:"w-6 h-6 text-primary"}):c.jsx(G,{className:"w-6 h-6 text-muted-foreground"})},h.id))})})})]})}export{ct as default};
